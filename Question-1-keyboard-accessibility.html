<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>The Funion</title>
  <style>
    *,
    *::after,
    *::before {
      box-sizing: border-box;
    }

    html {
      position: relative;
      min-height: 100%;
    }

    body {
      margin: 30px;
      font-family: Lato, sans-serif;
    }

    a {
      color: #006b3a;
    }

    /* Ensuring focus indicator is visible */
    a:focus,
    button:focus,
    input:focus {
      outline: 2px solid #006b3a; /* Adding focus indicator */
      outline-offset: 2px; /* Spacing for better visibility */
    }

    h2 {
      margin-top: 0;
    }

    article h3 {
      margin-top: 0;
      font-size: 1.5em;
      -webkit-margin-after: 0.83em;
    }

    .container {
      max-width: 1000px;
      margin: 0 auto;
    }

    header {
      margin-bottom: 48px;
      box-shadow: 0 0 8px #bbb;
      border-bottom: 1px solid #aaa;
    }

    .logo {
      text-align: center;
      font-size: 32px;
      margin: 0;
      padding: 16px 0;
      border-bottom: 1px solid #ddd;
    }

    .offscreen {
      position: absolute;
      left: -10000px;
      top: -10000px;
    }

    .menu {
      padding: 16px 48px;
    }

    .menu a {
      color: #000;
      text-decoration: none;
      font-size: 18px;
      margin-right: 18px;
    }

    .menu a:last-child {
      margin-right: 0;
    }

    .menu .btn-search img {
      vertical-align: top;
      margin-right: 8px;
      width: 22px;
      height: 22px;
    }

    article p {
      line-height: 1.4;
    }

    .main-story {
      clear: both;
      overflow: hidden;
      margin-bottom: 16px;
      padding-bottom: 16px;
    }

    .main-story img {
      width: 50%;
    }

    .main-story .info {
      margin-right: 50%;
      padding-right: 16px;
    }

    .tier-header {
      border-top: 1px solid #aaa;
      margin-bottom: 15px;
    }

    .tier-header h2 {
      font-size: 17px;
      font-weight: 400;
      text-transform: uppercase;
      padding: 5px 15px;
      display: inline-block;
      margin: 0;
      color: #fff;
      background: #006b3a;
    }

    .side-by-side .column {
      display: inline-block;
      vertical-align: top;
    }

    .side-by-side article img {
      max-width: 100%;
    }

    .side-by-side .column:first-child {
      width: 70%;
      padding-right: 16px;
      border-right: 1px solid #aaa;
    }

    .side-by-side .column:last-child {
      padding-left: 16px;
      width: 29%;
    }

    .side-by-side .column:last-child .headline {
      font-size: 18px;
    }

    .three-col {
      margin-bottom: 100px;
    }

    .three-col h2,
    .three-col h3 {
      margin-top: 0;
      font-size: 16px;
    }

    .three-col .columns {
      display: flex;
    }

    .three-col .columns article {
      flex: 1;
      margin-right: 18px;
    }

    .three-col img {
      width: 100%;
    }

    .three-col .columns article:last-child {
      margin-right: 0;
    }

    .newsletter {
      position: absolute;
      left: 0;
      bottom: 0;
      height: 60px;
      width: 100%;
      background: #000;
      color: #fff;
      border-top: 1px solid #aaa;
    }

    .newsletter h3 {
      display: inline-block;
      margin-right: 16px;
    }

    .pull-right {
      float: right;
    }
  </style>
</head>

<body>
  <header>
    <div class="container">
      <h1 class="logo">The Funion</h1>
  
      <!-- Improved navigation with focusable elements -->
      <nav class="menu">
        <a href="#" class="menu-item">Home</a>
        <a href="#" class="menu-item">Politics</a>
        <a href="#" class="menu-item">Business</a> <!--Removed tabindex=-1 to fix skipping issue when pressing tab-->
        <a href="#" class="menu-item">Entertainment</a>
        <a href="#" class="menu-item">Sports</a>
        <a href="#" class="menu-item btn-search pull-right"><img src="https://raw.githubusercontent.com/udacity/ud891/2de2a0688c68809a3b453db3a24b1a59e8401459/lesson2-focus/02-dom-order/images/search.svg" alt="Search" />Search</a>
      </nav>
    </div>
  </header>
  
  <main class="container">
    <h2 class="offscreen">Top story</h2>
    <article class="main-story">
      <img class="pull-right" src="https://github.com/udacity/ud891/blob/gh-pages/lesson2-focus/02-dom-order/images/cat.jpg?raw=true" alt="A cat staring menacingly off into space">
      <div class="info">
        <h3 class="headline">Study shows 9 out of 10 cats quietly judging their owners as they sleep</h3>
        <p>
          GRAND RAPIDS, MILorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. <a href="#">Read More</a>
        </p>
      </div>
    </article>
  
    <div class="side-by-side">
      <div class="column">
        <div class="tier-header">
          <h2>In the news</h2>
        </div>
        <article>
          <h3 class="headline">Bee wonders if maybe everyone else is a drone and he's the only one who has it "figured out."</h3>
          <p><a href="#" tabindex="0"><b>Read More</b></a></p> <!-- Ensured tabindex is 0 to make it follow normal tabbing order -->
          <img src="https://github.com/udacity/ud891/blob/gh-pages/lesson2-focus/02-dom-order/images/bee.jpg?raw=true" alt="A bee on top of a flower" />
        </article>
      </div>
      <div class="column">
        <article>
          <img src="https://github.com/udacity/ud891/blob/gh-pages/lesson2-focus/02-dom-order/images/telephone.jpg?raw=true" alt="A red, London telephone booth" />
          <div class="info">
            <h3 class="headline">Telephone booths. How is this still a thing?</h3>
            <p>
              LONDON-Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum. <a href="#">Read More</a>
            </p>
          </div>
        </article>
      </div>
    </div>

    <div class="three-col">
      <div class="tier-header">
        <h2>Recommended</h2>
      </div>
      <div class="columns">
        <article>
          <img src="https://github.com/udacity/ud891/blob/gh-pages/lesson2-focus/02-dom-order/images/dog.jpg?raw=true" alt="A dog at a desk looks up at a laptop and mouse" />
          <div class="info">
            <h3 class="headline">Turn man's best friend into man's best personal assistant.</h3><a href="#">Read More</a> <!-- The link was inside the heading tag so NVDA announced as heading level for link too-->
          </div>
        </article>
        <article>
          <img src="https://github.com/udacity/ud891/blob/gh-pages/lesson2-focus/02-dom-order/images/coffee.jpg?raw=true" alt="A cup of coffee on a table" />
          <div class="info">
            <h3 class="headline">San Franciscans are losing their minds over this third wave, artisanal, fair trade, handcrafted, locavore coffee. </h3><a href="#">Read More</a> <!-- The link was inside the heading so NVDA announced as heading level for link too-->
        </article>
        <article>
          <img src="https://github.com/udacity/ud891/blob/gh-pages/lesson2-focus/02-dom-order/images/football.jpg?raw=true" alt="A football player hands the ball off to another player" />
          <div class="info">
            <h3 class="headline">Sportsball team scores a touchpoint to win the big race.</h3> <a href="#">Read More</a> <!-- The link was inside the heading tag so NVDA announced as heading level for link too-->
          </div>
        </article>
      </div>
    </div>
  </main>
  <!-- newsletter container was pulled inside footer tag to ensure focus order is logical and intuitive-->
  <footer>
    <div class="newsletter">
      <div class="container">
        <h3>Like the Funion? Consider joining our newsletter!</h3>
        <input type="text">
        <button type="button" aria-label="subscribe to newsletter" onclick="getFocus()">Sign up</button> <!-- Changed from onfocus to onclick -->
      </div>
    </div>
  </footer>
  
  <script>
    function getFocus() {
      window.open('https://aidaform.com/templates/thank-you-page-with-redirects.html','mywindow').focus()
    }
  </script>
  <script>
    // Javascript code below were added to easily move between the nav-items using arrowkeys in keyboard 
    const menuItems = document.querySelectorAll('.menu-item');
  
    // Added a keydown event listener to each menu item
    menuItems.forEach((item, index) => {
      item.addEventListener('keydown', (event) => {
        if (event.key === 'ArrowRight') {
          // Move focus to the next item when right arrow is pressed
          const nextItem = menuItems[index + 1] || menuItems[0]; // If it's the last item, go back to the first
          nextItem.focus();
        } else if (event.key === 'ArrowLeft') {
          // Move focus to the previous item when left arrow is pressed
          const prevItem = menuItems[index - 1] || menuItems[menuItems.length - 1]; // If it's the first item, go to the last
          prevItem.focus();
        }
      });
    });
  </script>
</body>

</html>
